<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Settings - Super Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="stylesheet" href="superadmin_system.css">
</head>
<body class="bg-base-100 min-h-screen">
    <!-- Navigation -->
    <nav class="navbar bg-base-200 px-4 shadow sticky top-0 z-50">
        <div class="navbar-start">
            <div class="dropdown">
                <label tabindex="0" class="btn btn-ghost lg:hidden">
                    <i class="fa-solid fa-bars text-xl"></i>
                </label>
                <ul tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52">
                    <li><a href="superadmin_dashboard.html"><i class="fa-solid fa-gauge-high"></i> Dashboard</a></li>
                    <li><a href="superadmin_users.html"><i class="fa-solid fa-users"></i> User Management</a></li>
                    <li><a href="superadmin_departments.html"><i class="fa-solid fa-building"></i> Departments</a></li>
                    <li><a href="superadmin_questions.html"><i class="fa-solid fa-question-circle"></i> Question Approval</a></li>
                    <li><a href="superadmin_quizzes.html"><i class="fa-solid fa-feather-pointed"></i> Quiz Management</a></li>
                    <li><a href="superadmin_reports.html"><i class="fa-solid fa-chart-bar"></i> Reports</a></li>
                    <li><a href="superadmin_system.html" class="active"><i class="fa-solid fa-cog"></i> System Settings</a></li>
                </ul>
            </div>
            <a href="superadmin_dashboard.html" class="flex items-center gap-2 text-xl font-bold">
                <div class="w-10 h-8 bg-primary rounded-lg flex items-center justify-center text-white">
                    <i class="fa-solid fa-user-shield"></i>
                </div>
                IUS QUIZ SYSTEM - SUPER ADMIN
            </a>
        </div>

        <div class="navbar-center hidden lg:flex">
            <ul class="menu menu-horizontal px-1">
                <li><a href="superadmin_dashboard.html"><i class="fa-solid fa-gauge-high"></i> Dashboard</a></li>
                <li><a href="superadmin_users.html"><i class="fa-solid fa-users"></i> User Management</a></li>
                <li><a href="superadmin_departments.html"><i class="fa-solid fa-building"></i> Departments</a></li>
                <li><a href="superadmin_questions.html"><i class="fa-solid fa-question-circle"></i> Question Approval</a></li>
                <li><a href="superadmin_quizzes.html"><i class="fa-solid fa-feather-pointed"></i> Quiz Management</a></li>
                <li><a href="superadmin_reports.html"><i class="fa-solid fa-chart-bar"></i> Reports</a></li>
                <li><a href="superadmin_system.html" class="active"><i class="fa-solid fa-cog"></i> System Settings</a></li>
            </ul>
        </div>

        <div class="navbar-end gap-2">
            <div id="navbar-clock" class="hidden md:flex items-center text-sm bg-base-300 px-3 py-1 rounded-full mr-2">
                <i class="fa-regular fa-clock mr-1"></i> Loading...
            </div>
            
            <!-- User Profile -->
            <div class="dropdown dropdown-end">
                <label tabindex="0" class="btn btn-ghost btn-circle avatar">
                    <div class="w-10 rounded-full bg-primary text-white flex items-center justify-center">
                        <span class="font-bold">SA</span>
                    </div>
                </label>
                <ul tabindex="0" class="mt-3 z-[1] p-2 shadow menu menu-sm dropdown-content bg-base-100 rounded-box w-52">
                    <li class="menu-title">Super Admin</li>
                    <li><a href="superadmin_profile.html"><i class="fa-solid fa-user"></i> Profile</a></li>
                    <li><a href="superadmin_settings.html"><i class="fa-solid fa-gear"></i> Settings</a></li>
                    <li><a href="index.html" id="logout-btn"><i class="fa-solid fa-arrow-right-from-bracket"></i> Logout</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8">
        <!-- Header Section -->
        <div class="mb-8">
            <h1 class="text-4xl font-bold mb-2">System Settings</h1>
            <p class="text-gray-600">Manage platform configuration and system preferences</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            <!-- Left Navigation -->
            <div class="lg:col-span-1">
                <div class="card bg-base-100 shadow-lg sticky top-24">
                    <div class="card-body p-4">
                        <ul class="menu menu-vertical gap-1" id="settings-menu">
                            <li><a class="active" data-tab="general"><i class="fa-solid fa-sliders"></i> General Settings</a></li>
                            <li><a data-tab="security"><i class="fa-solid fa-shield-alt"></i> Security</a></li>
                            <li><a data-tab="notifications"><i class="fa-solid fa-bell"></i> Notifications</a></li>
                            <li><a data-tab="backup"><i class="fa-solid fa-database"></i> Backup & Restore</a></li>
                            <li><a data-tab="maintenance"><i class="fa-solid fa-screwdriver-wrench"></i> Maintenance</a></li>
                            <li><a data-tab="api"><i class="fa-solid fa-code"></i> API Settings</a></li>
                            <li><a data-tab="logs"><i class="fa-solid fa-file-lines"></i> System Logs</a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Right Content -->
            <div class="lg:col-span-3 space-y-8">
                <!-- General Settings -->
                <div id="general-tab" class="settings-tab active">
                    <div class="card bg-base-100 shadow-lg">
                        <div class="card-body">
                            <h3 class="card-title mb-6">General Settings</h3>
                            
                            <form class="space-y-6">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div class="form-control">
                                        <label class="label">
                                            <span class="label-text font-semibold">Platform Name</span>
                                        </label>
                                        <input type="text" class="input input-bordered" value="IUS Quiz System" id="platform-name">
                                    </div>
                                    <div class="form-control">
                                        <label class="label">
                                            <span class="label-text font-semibold">Platform Version</span>
                                        </label>
                                        <input type="text" class="input input-bordered" value="2.1.0" readonly>
                                    </div>
                                </div>

                                <div class="form-control">
                                    <label class="label">
                                        <span class="label-text font-semibold">Platform Description</span>
                                    </label>
                                    <textarea class="textarea textarea-bordered h-20" id="platform-description">The premier platform for interactive learning and knowledge testing at IUS.</textarea>
                                </div>

                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div class="form-control">
                                        <label class="label">
                                            <span class="label-text font-semibold">Default Language</span>
                                        </label>
                                        <select class="select select-bordered" id="default-language">
                                            <option value="en" selected>English</option>
                                            <option value="bn">Bangla</option>
                                            <option value="es">Spanish</option>
                                            <option value="fr">French</option>
                                        </select>
                                    </div>
                                    <div class="form-control">
                                        <label class="label">
                                            <span class="label-text font-semibold">Time Zone</span>
                                        </label>
                                        <select class="select select-bordered" id="time-zone">
                                            <option value="UTC+6" selected>Asia/Dhaka (UTC+6)</option>
                                            <option value="UTC+0">UTC</option>
                                            <option value="UTC-5">EST (UTC-5)</option>
                                            <option value="UTC+1">CET (UTC+1)</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-control">
                                    <label class="label">
                                        <span class="label-text font-semibold">Theme Settings</span>
                                    </label>
                                    <div class="flex gap-4">
                                        <label class="cursor-pointer label justify-start">
                                            <input type="radio" name="theme" value="light" class="radio radio-primary mr-2" checked>
                                            <span class="label-text">Light Mode</span>
                                        </label>
                                        <label class="cursor-pointer label justify-start">
                                            <input type="radio" name="theme" value="dark" class="radio radio-primary mr-2">
                                            <span class="label-text">Dark Mode</span>
                                        </label>
                                        <label class="cursor-pointer label justify-start">
                                            <input type="radio" name="theme" value="auto" class="radio radio-primary mr-2">
                                            <span class="label-text">Auto (System)</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="form-control">
                                    <label class="cursor-pointer label justify-start">
                                        <input type="checkbox" class="checkbox checkbox-primary mr-2" id="maintenance-mode">
                                        <span class="label-text">Enable Maintenance Mode</span>
                                    </label>
                                    <label class="cursor-pointer label justify-start">
                                        <input type="checkbox" class="checkbox checkbox-primary mr-2" id="user-registration" checked>
                                        <span class="label-text">Allow User Registration</span>
                                    </label>
                                    <label class="cursor-pointer label justify-start">
                                        <input type="checkbox" class="checkbox checkbox-primary mr-2" id="email-verification" checked>
                                        <span class="label-text">Require Email Verification</span>
                                    </label>
                                </div>

                                <div class="card-actions justify-end">
                                    <button type="button" class="btn btn-ghost">Reset to Defaults</button>
                                    <button type="submit" class="btn btn-primary">Save Changes</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Security Settings -->
                <div id="security-tab" class="settings-tab">
                    <div class="card bg-base-100 shadow-lg">
                        <div class="card-body">
                            <h3 class="card-title mb-6">Security Settings</h3>
                            
                            <form class="space-y-6">
                                <div class="form-control">
                                    <label class="label">
                                        <span class="label-text font-semibold">Password Policy</span>
                                    </label>
                                    <div class="space-y-2">
                                        <label class="cursor-pointer label justify-start">
                                            <input type="checkbox" class="checkbox checkbox-primary mr-2" id="strong-passwords" checked>
                                            <span class="label-text">Require Strong Passwords</span>
                                        </label>
                                        <label class="cursor-pointer label justify-start">
                                            <input type="checkbox" class="checkbox checkbox-primary mr-2" id="password-expiry">
                                            <span class="label-text">Enable Password Expiry (90 days)</span>
                                        </label>
                                        <label class="cursor-pointer label justify-start">
                                            <input type="checkbox" class="checkbox checkbox-primary mr-2" id="prevent-reuse" checked>
                                            <span class="label-text">Prevent Password Reuse</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div class="form-control">
                                        <label class="label">
                                            <span class="label-text font-semibold">Session Timeout</span>
                                        </label>
                                        <select class="select select-bordered" id="session-timeout">
                                            <option value="30">30 minutes</option>
                                            <option value="60" selected>1 hour</option>
                                            <option value="120">2 hours</option>
                                            <option value="240">4 hours</option>
                                            <option value="480">8 hours</option>
                                        </select>
                                    </div>
                                    <div class="form-control">
                                        <label class="label">
                                            <span class="label-text font-semibold">Max Login Attempts</span>
                                        </label>
                                        <input type="number" class="input input-bordered" value="5" min="3" max="10" id="max-login-attempts">
                                    </div>
                                </div>

                                <div class="form-control">
                                    <label class="label">
                                        <span class="label-text font-semibold">Two-Factor Authentication</span>
                                    </label>
                                    <div class="space-y-2">
                                        <label class="cursor-pointer label justify-start">
                                            <input type="checkbox" class="checkbox checkbox-primary mr-2" id="2fa-admin" checked>
                                            <span class="label-text">Require for Admin Users</span>
                                        </label>
                                        <label class="cursor-pointer label justify-start">
                                            <input type="checkbox" class="checkbox checkbox-primary mr-2" id="2fa-teachers">
                                            <span class="label-text">Require for Teachers</span>
                                        </label>
                                        <label class="cursor-pointer label justify-start">
                                            <input type="checkbox" class="checkbox checkbox-primary mr-2" id="2fa-optional">
                                            <span class="label-text">Optional for Students</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="form-control">
                                    <label class="label">
                                        <span class="label-text font-semibold">IP Whitelist</span>
                                    </label>
                                    <textarea class="textarea textarea-bordered h-20" placeholder="Enter allowed IP addresses (one per line)" id="ip-whitelist">192.168.1.0/24
10.0.0.0/8</textarea>
                                    <label class="label">
                                        <span class="label-text-alt">Leave empty to allow all IP addresses</span>
                                    </label>
                                </div>

                                <div class="alert alert-warning">
                                    <i class="fa-solid fa-exclamation-triangle"></i>
                                    <span>Security settings changes will affect all users immediately.</span>
                                </div>

                                <div class="card-actions justify-end">
                                    <button type="button" class="btn btn-ghost">Reset to Defaults</button>
                                    <button type="submit" class="btn btn-primary">Save Security Settings</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Backup & Restore -->
                <div id="backup-tab" class="settings-tab">
                    <div class="card bg-base-100 shadow-lg">
                        <div class="card-body">
                            <h3 class="card-title mb-6">Backup & Restore</h3>
                            
                            <div class="space-y-6">
                                <!-- Backup Section -->
                                <div class="backup-section">
                                    <h4 class="font-semibold text-lg mb-4">System Backup</h4>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div class="backup-card">
                                            <div class="flex items-center gap-3 mb-3">
                                                <i class="fa-solid fa-database text-2xl text-primary"></i>
                                                <div>
                                                    <div class="font-semibold">Database Backup</div>
                                                    <div class="text-sm text-gray-600">Last backup: 2 hours ago</div>
                                                </div>
                                            </div>
                                            <button class="btn btn-primary btn-sm btn-block" id="backup-database">
                                                <i class="fa-solid fa-download mr-2"></i>
                                                Backup Now
                                            </button>
                                        </div>
                                        
                                        <div class="backup-card">
                                            <div class="flex items-center gap-3 mb-3">
                                                <i class="fa-solid fa-file-export text-2xl text-secondary"></i>
                                                <div>
                                                    <div class="font-semibold">Full System Backup</div>
                                                    <div class="text-sm text-gray-600">Last backup: 1 day ago</div>
                                                </div>
                                            </div>
                                            <button class="btn btn-secondary btn-sm btn-block" id="backup-system">
                                                <i class="fa-solid fa-download mr-2"></i>
                                                Backup Now
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Restore Section -->
                                <div class="restore-section">
                                    <h4 class="font-semibold text-lg mb-4">Restore System</h4>
                                    <div class="alert alert-error">
                                        <i class="fa-solid fa-exclamation-triangle"></i>
                                        <span>Warning: Restoring from backup will overwrite current data.</span>
                                    </div>
                                    
                                    <div class="form-control">
                                        <label class="label">
                                            <span class="label-text font-semibold">Select Backup File</span>
                                        </label>
                                        <select class="select select-bordered" id="backup-files">
                                            <option value="">Select a backup file...</option>
                                            <option value="backup_20240115.sql">backup_20240115.sql (2 hours ago)</option>
                                            <option value="backup_20240114.sql">backup_20240114.sql (1 day ago)</option>
                                            <option value="backup_20240110.sql">backup_20240110.sql (5 days ago)</option>
                                        </select>
                                    </div>
                                    
                                    <button class="btn btn-error btn-block mt-4" id="restore-backup" disabled>
                                        <i class="fa-solid fa-upload mr-2"></i>
                                        Restore from Backup
                                    </button>
                                </div>

                                <!-- Auto Backup Settings -->
                                <div class="auto-backup-section">
                                    <h4 class="font-semibold text-lg mb-4">Automatic Backup Settings</h4>
                                    <div class="form-control">
                                        <label class="cursor-pointer label justify-start">
                                            <input type="checkbox" class="checkbox checkbox-primary mr-2" id="auto-backup" checked>
                                            <span class="label-text">Enable Automatic Backups</span>
                                        </label>
                                    </div>
                                    
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                                        <div class="form-control">
                                            <label class="label">
                                                <span class="label-text font-semibold">Backup Frequency</span>
                                            </label>
                                            <select class="select select-bordered" id="backup-frequency">
                                                <option value="daily">Daily</option>
                                                <option value="weekly" selected>Weekly</option>
                                                <option value="monthly">Monthly</option>
                                            </select>
                                        </div>
                                        <div class="form-control">
                                            <label class="label">
                                                <span class="label-text font-semibold">Backup Time</span>
                                            </label>
                                            <input type="time" class="input input-bordered" value="02:00" id="backup-time">
                                        </div>
                                    </div>
                                    
                                    <div class="form-control">
                                        <label class="label">
                                            <span class="label-text font-semibold">Backup Retention</span>
                                        </label>
                                        <select class="select select-bordered" id="backup-retention">
                                            <option value="7">7 days</option>
                                            <option value="30" selected>30 days</option>
                                            <option value="90">90 days</option>
                                            <option value="365">1 year</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- System Logs -->
                <div id="logs-tab" class="settings-tab">
                    <div class="card bg-base-100 shadow-lg">
                        <div class="card-body">
                            <h3 class="card-title mb-6">System Logs</h3>
                            
                            <div class="space-y-4">
                                <!-- Log Filters -->
                                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                                    <div class="form-control">
                                        <label class="label">
                                            <span class="label-text">Log Level</span>
                                        </label>
                                        <select class="select select-bordered" id="log-level">
                                            <option value="">All Levels</option>
                                            <option value="error">Error</option>
                                            <option value="warning">Warning</option>
                                            <option value="info">Info</option>
                                            <option value="debug">Debug</option>
                                        </select>
                                    </div>
                                    <div class="form-control">
                                        <label class="label">
                                            <span class="label-text">Date Range</span>
                                        </label>
                                        <input type="date" class="input input-bordered" id="log-date">
                                    </div>
                                    <div class="form-control">
                                        <label class="label">
                                            <span class="label-text">Search</span>
                                        </label>
                                        <input type="text" placeholder="Search logs..." class="input input-bordered" id="log-search">
                                    </div>
                                    <div class="form-control">
                                        <label class="label">
                                            <span class="label-text">Actions</span>
                                        </label>
                                        <button class="btn btn-outline" id="refresh-logs">
                                            <i class="fa-solid fa-refresh mr-2"></i>
                                            Refresh
                                        </button>
                                    </div>
                                </div>

                                <!-- Logs Table -->
                                <div class="overflow-x-auto">
                                    <table class="table table-zebra">
                                        <thead>
                                            <tr>
                                                <th>Timestamp</th>
                                                <th>Level</th>
                                                <th>Module</th>
                                                <th>Message</th>
                                                <th>User</th>
                                            </tr>
                                        </thead>
                                        <tbody id="system-logs-table">
                                            <!-- Logs will be populated by JavaScript -->
                                        </tbody>
                                    </table>
                                </div>

                                <!-- Log Actions -->
                                <div class="flex justify-between items-center mt-4">
                                    <div class="text-sm text-gray-600">
                                        Showing latest 50 log entries
                                    </div>
                                    <div class="flex gap-2">
                                        <button class="btn btn-sm btn-outline" id="clear-logs">
                                            <i class="fa-solid fa-trash mr-1"></i>
                                            Clear Logs
                                        </button>
                                        <button class="btn btn-sm btn-primary" id="export-logs">
                                            <i class="fa-solid fa-download mr-1"></i>
                                            Export Logs
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Backup Confirmation Modal -->
    <div id="backup-confirm-modal" class="modal modal-bottom sm:modal-middle">
        <div class="modal-box">
            <h3 class="font-bold text-2xl mb-4">Confirm Backup</h3>
            <p class="py-4">Are you sure you want to create a system backup? This may take several minutes.</p>
            <div class="modal-action">
                <button class="btn btn-ghost" id="cancel-backup">Cancel</button>
                <button class="btn btn-primary" id="confirm-backup">
                    <i class="fa-solid fa-database mr-2"></i>
                    Start Backup
                </button>
            </div>
        </div>
    </div>

    <!-- Restore Confirmation Modal -->
    <div id="restore-confirm-modal" class="modal modal-bottom sm:modal-middle">
        <div class="modal-box">
            <h3 class="font-bold text-2xl mb-4">Confirm Restore</h3>
            <p class="py-4 text-error font-semibold">Warning: This will overwrite all current data with the backup. This action cannot be undone.</p>
            <p class="py-2">Are you absolutely sure you want to proceed?</p>
            <div class="modal-action">
                <button class="btn btn-ghost" id="cancel-restore">Cancel</button>
                <button class="btn btn-error" id="confirm-restore">
                    <i class="fa-solid fa-upload mr-2"></i>
                    Yes, Restore System
                </button>
            </div>
        </div>
    </div>

    <script src="superadmin_system.js"></script>
</body>
</html>